var jobArray =[
	["设计/IT/电脑应用","0","0"],
	["平面设计", "002101" ,"002101"],
	["广告设计", "002103" ,"002103"],
	["网页设计", "002109" ,"002109"],
	["游戏设计", "002107" ,"002107"],
	["动漫设计", "002104" ,"002104"],
	["影视设计", "002105" ,"002105"],
	["动画设计", "002106" ,"002106"],
	["室内设计", "002102" ,"002102"],
	["景观设计", "002112" ,"002112"],
	["建筑设计", "002115" ,"002115"],
	["陈列设计", "002108" ,"002108"],
	["产品设计", "002111" ,"002111"],
	["珠宝设计", "002116" ,"002116"],
	["模具设计", "002110" ,"002110"],
	["鞋样设计", "003728" ,"003728"],
	["IOS", "002217", "002217"],
	["Android", "002213", "002213"],
	["JAVA", "002301", "002301"],
	["C/C++", "002302", "002302"],
	["PHP", "002310", "002310"],
	["ASP", "002303", "002303"],
	["C#", "002305", "002305"],
	["Delphi", "002306", "002306"],
	["Oracle", "002309", "002309"],
	["软件开发", "002312", "002312"],
	["数据库开发（好学校：数据库）", "002311", "002311"],
	["手机开发", "002314", "002314"],
	["信息安全工程师", "002315", "002315"],
	["系统需求分析师", "002316", "002316"],
	["网络工程师", "002313", "002313"],
	["嵌入式开发（好学校：嵌入式）", "002304", "002304"],
	["办公应用（好学校：办公软件）"	,"002501", "002501"],
	["电脑基础"	,"002508", "002508"],
	["电子商务"	,"002504", "002504"],
	["速录"	,"002507", "002507"],
	["软件测试"	,"002503", "002503"],
	["网络技术"	,"002502", "002502"],

	["金融/工程建筑/贸易"	,"0","0"],
	["会计电算化"	,"003701" ,"003701"],
	["会计实务"	,"003702" ,"003702"],
	["特许公认会计师ACCA"	,"007107" ,"007107"],
	["国际注册会计师"	,"007110" ,"007110"],
	["注册会计师"	,"007103" ,"007103"],
	["注册税务师"	,"007106" ,"007106"],
	["资产评估师"	,"007104" ,"007104"],
	["鉴定估价师"	,"007105" ,"007105"],
	["特许金融分析师CFA"	,"007108" ,"007108"],
	["理财规划师"	,"007113" ,"007113"],
	["银行从业"	,"007111" ,"007111"],
	["基金从业"	,"007112" ,"007112"],
	["证券从业"	,"007114" ,"007114"],
	["证券经纪人"	,"007117" ,"007117"],
	["期货从业"	,"007115" ,"007115"],
	["保险从业"	,"007116" ,"007116"],
	["经济师"	,"007119" ,"007119"],
	["精算师"	,"007120" ,"007120"],
	["审计师"	,"007121" ,"007121"],
	["统计师"	,"007122" ,"007122"],
	["建筑五大员"	,"007201" ,"007201"],
	["建造师"	,"007202" ,"007202"],
	["造价工程师"	,"007203" ,"007203"],
	["监理工程师"	,"007204" ,"007204"],
	["安全工程师"	,"007205" ,"007205"],
	["咨询工程师"	,"007206" ,"007206"],
	["结构工程师"	,"007211" ,"007211"],
	["岩土工程师"	,"007212" ,"007212"],
	["房地产估价师"	,"007207" ,"007207"],
	["土地估价师"	,"007208" ,"007208"],
	["房地产经纪人"	,"007209" ,"007209"],
	["房地产策划师"	,"007210" ,"007210"],
	["注册测绘师"	,"007213" ,"007213"],
	["注册计量师"	,"007214" ,"007214"],
	["弱电工师"	,"007216" ,"007216"],
	["造价员"	,"007217" ,"007217"],
	["预算员"	,"007218" ,"007218"],
	["招标师"	,"007219" ,"007219"],
	["城市规划师"	,"007215" ,"007215"],
	["人力资源师"	,"007301" ,"007301"],
	["项目管理师"	,"007306" ,"007306"],
	["酒店管理师"	,"007312" ,"007312"],
	["工商管理师"	,"007324" ,"007324"],
	["物流师"	,"007303" ,"007303"],
	["电子商务师"	,"007304" ,"007304"],
	["营销师"	,"007305" ,"007305"],
	["策划师"	,"007311" ,"007311"],
	["采购师"	,"007318" ,"007318"],
	["企业培训师"	,"007319" ,"007319"],
	["报关员"	,"007307" ,"007307"],
	["跟单员"	,"007308" ,"007308"],
	["货代员"	,"007309" ,"007309"],
	["报检员"	,"007310" ,"007310"],
	["内审员"	,"007315" ,"007315"],
	["外审员"	,"007316" ,"007316"],
	["单证员"	,"007317" ,"007317"],
	["外销员"	,"007323" ,"007323"],
	["物业管理"	,"007302" ,"007302"],
	["客户关系管理"	,"007314" ,"007314"],
	["食品安全管理"	,"007320" ,"007320"],
	["信用管理"	,"007321" ,"007321"],
	["会展管理"	,"007322" ,"007322"],
	["职业经理人"	,"007313" ,"007313"],
	["职业指导师"	,"007325" ,"007325"],


	["外语/行业英语/小语种"	,"0",,"0"],
	["英语笔译"	,"001301", "001301"],
	["英语翻译"	,"001302", "001302"],
	["英语口译"	,"001303", "001303"],
	["同声传译"	,"001304", "001304"],
	["商务英语(BEC)"	,"001501", "001501"],
	["外贸英语"	,"001502", "001502"],
	["服装英语"	,"001503", "001503"],
	["旅游英语"	,"001504", "001504"],
	["面试英语"	,"001505", "001505"],
	["金融英语"	,"001506", "001506"],
	["影视英语"	,"001507", "001507"],
	["酒店英语"	,"001508", "001508"],
	["日语"	,"001701", "001701"],
	["德语"	,"001702", "001702"],
	["法语"	,"001703", "001703"],
	["阿拉伯语"	,"001704", "001704"],
	["越南语"	,"001705", "001705"],
	["葡萄牙语"	,"001706", "001706"],
	["匈牙利语"	,"001707", "001707"],
	["波兰语"	,"001708", "001708"],
	["荷兰语"	,"001709", "001709"],
	["意大利语"	,"001710", "001710"],
	["西班牙语"	,"001711", "001711"],
	["瑞典语"	,"001712", "001712"],
	["波斯语"	,"001713", "001713"],
	["韩语"	,"001714", "001714"],
	["俄语"	,"001715", "001715"],
	["印尼语"	,"001716", "001716"],
	["印度语"	,"001717", "001717"],
	["缅甸语"	,"001718", "001718"],
	["土耳其语"	,"001719", "001719"],
	["泰语"	,"001720", "001720"],
	["马来西亚语"	,"001721", "001721"],
	["对外汉语"	,"001803", "001803"],

	["企业管理", "0"],
	["总裁管理（好学校：总裁管理研修）"	,"009115", "009115"],
	["总监管理（好学校：总监管理研修）"	,"009116", "009116"],
	["财务总监(CFO)"	,"007109", "007109"],
	["财务管理"	,"009103", "009103"],
	["品牌管理"	,"009107", "009107"],
	["项目管理"	,"009109", "009109"],
	["生产管理"	,"009108", "009108"],
	["经营管理"	,"009112", "009112"],
	["采购管理"	,"009113", "009113"],
	["文化管理"	,"009105", "009105"],
	["供应链管理"	,"009120", "009120"],
	["客户管理"	,"009110", "009110"],
	["客户服务"	,"009111", "009111"],
	["高级经理人（好学校：高级经理人研修）"	,"009102", "009102"],
	["人力资源"	,"009104", "009104"],
	["拓展训练"	,"009101", "009101"],
	["市场营销"	,"009106", "009106"],

	["服装/模具/印刷"	,"0"],
	["服装设计"	,"003601", "003601"],
	["服装裁剪"	,"003602", "003602"],
	["服装打版"	,"003603", "003603"],
	["服装营销"	,"003607", "003607"],
	["数控机床"	,"003604", "003604"],
	["模具设计"	,"003605", "003605"],
	["PCB设计"	,"003724", "003724"],
	["CTP印前工程师"	,"003726", "003726"],

	["美容/护理/医学保健"	,"0" ,"0"],
	["美容"	,"003501" ,"003501"],
	["中医美容"	,"003504" ,"003504"],
	["美发"	,"003503" ,"003503"],
	["美甲"	,"003511" ,"003511"],
	["美体"	,"003506" ,"003506"],
	["化妆"	,"003502" ,"003502"],
	["彩妆造型"	,"003505" ,"003505"],
	["形象设计"	,"003507" ,"003507"],
	["中医养生"	,"003513" ,"003513"],
	["保健按摩"	,"003711" ,"003711"],
	["按摩足疗"	,"003508" ,"003508"],
	["针灸"	,"003712" ,"003712"],
	["针灸推拿师"	,"007507" ,"007507"],
	["纹绣"	,"003509" ,"003509"],
	["影楼"	,"003510" ,"003510"],
	["店面管理"	,"003512" ,"003512"],
	["宠物美容护理"	,"003715" ,"003715"],
	["健康管理师"	,"007508" ,"007508"],
	["心理咨询师"	,"007501" ,"007501"],
	["中医推拿师"	,"007506" ,"007506"],
	["中医师"	,"007511" ,"007511"],
	["心理保健师"	,"007505" ,"007505"],
	["保健按摩师"	,"007513" ,"007513"],
	["公共营养师"	,"007502" ,"007502"],
	["康复理疗师"	,"007503" ,"007503"],
	["芳疗师"	,"007504" ,"007504"],
	["催乳师"	,"007514" ,"007514"],
	["执业药师"	,"007509" ,"007509"],
	["执业医师"	,"007510" ,"007510"],


	["维修/驾驶/特殊工种"	,"0"],
	["电工"	,"003703", "003703"],
	["焊工"	,"003704", "003704"],
	["高压电工 "	,"003705", "003705"],
	["电梯工"	,"003706", "003706"],
	["钳工"	,"003716", "003716"],
	["汽车维修"	,"003301", "003301"],
	["汽车美容"	,"003306", "003306"],
	["汽车音响改装"	,"003307", "003307"],
	["机电维修"	,"003309", "003309"],
	["制冷维修"	,"003308", "003308"],
	["办公设备维修"	,"003305", "003305"],
	["家电维修"	,"003304", "003304"],
	["电脑维修"	,"003303", "003303"],
	["手机维修"	,"003302", "003302"],
	["叉车"	,"003102", "003102"],
	["吊车"	,"003105", "003105"],
	["拖车"	,"003107", "003107"],
	["铲车"	,"003109", "003109"],
	["挖掘机"	,"003103", "003103"],
	["装载机"	,"003104", "003104"],
	["船舶驾驶"	,"003106", "003106"],
	["烹饪/餐饮"	,"0"],
	["厨师"	,"003201", "003201"],
	["西餐"	,"003209", "003209"],
	["料理"	,"003210", "003210"],
	["烧腊卤水"	,"003211", "003211"],
	["面点师"	,"003202", "003202"],
	["糖水小吃"	,"003203", "003203"],
	["寿司"	,"003204", "003204"],
	["调酒师"	,"003205", "003205"],
	["品酒师"	,"003212", "003212"],
	["咖啡师"	,"003208", "003208"],
	["茶艺师"	,"003207", "003207"],
	["烹饪酒店管理"	,"003206", "003206"],

	["其他"	,"0"],
	["模特"	,"003707","003707"],
	["礼仪（好学校：礼仪培训）"	,"003727","003727"],
	["演艺（好学校：演艺培训）"	,"003721","003721"],
	["播音主持"	,"003714","003714"],
	["DJ音控"	,"003713","003713"],
	["PLC设计"	,"003719","003719"],
	["摄影（好学校：摄影培训）"	,"003606","003606"],
	["心理学/NLP"	,"003710","003710"],
	["眼镜验光（好学校：眼睛培训）"	,"003725","003725"],
	["窗帘布艺（好学校：窗帘培训）"	,"003723","003723"],
	["插花"	,"003708","003708"],
	["风水八字"	,"003729","003729"]

];


function GetPosition(id) {
    for (var i = 0; i < jobArray.length; i++) {
        if (jobArray[i][2] == id) {
            return jobArray[i];
            break;
        }
    }
    return null;
}

function GetPositions(pid) {
    var positions = new Array();
    for (var i = 0; i < jobArray.length; i++) {
        if (jobArray[i][1] == pid) {
            positions.push(jobArray[i]);
        }
    }
    return positions;
}

function GetTopPositions() {
    var positions = new Array();
    for (var i = 0; i < jobArray.length; i++) {
        if (jobArray[i][1] == "0") {
            positions.push(jobArray[i]);
        }
    }
    return positions;
}

function GetPositionsByIds(ids, containBig) {
    var positions = new Array();
    for (var i = 0; i < jobArray.length; i++) {
        var pt = new RegExp(jobArray[i][2]);
        if ((containBig || jobArray[i][1] != "0") && pt.test(ids)) {
            positions.push(jobArray[i]);
        }
    }
    return positions;
}

function GetPositionsByKeywords(keyword, containBig, containMid) {
    var positions = new Array();
    var containBig = containBig || false;
    var containMid = containMid || false;
	var regular = new RegExp(keyword,'i');
    for (var i = 0; i < jobArray.length; i++) {
        //if (jobArray[i][0].indexOf(keyword) >= 0) {
        if (jobArray[i][0].match(regular)) {
            if (!containBig && jobArray[i][1] == "0") continue;
            if (!containMid && jobArray[i][2].substr(4,2) == "00") continue;
            positions.push(jobArray[i]);
        }
    }
    return positions;
}
function GetPositionsSuggest(keywd, containBig, containMid) {
    var poss = GetPositionsByKeywords(keywd, containBig, containMid);
    var str = "["
    for (var i = 0; i < poss.length; i++) {
        str += (str == "[" ? "" : ",") + "{t:'" + poss[i][0] + "',v:'" + poss[i][2] + "'}";
    }
    return str + "]";
}

function CreatePositionSelector(option) {
    //option {positionIds,lsPos1,lsPos2,lsPos3,titleProv,titleCity,titlePosition,value,afterchange}
    var _this = this;
    if (option == null) return;
    var sl1 = option.lsPos1;
    var sl2 = option.lsPos2;
    var sl3 = option.lsPos3;
    var positionIds = option.positionIds;
    if (typeof (sl1) == "string") sl1 = document.getElementById(sl1);
    if (typeof (sl2) == "string") sl2 = document.getElementById(sl2);
    if (typeof (sl3) == "string") sl3 = document.getElementById(sl3);
    var _positionsArray = null;
    var _isContainPosition = function (id) {
        if (_positionsArray == null) return false;
        for (var i = 0; i < _positionsArray.length; i++) if (_positionsArray[i][2] == id) return true;
        return false;
    }
    if (positionIds) {
        while (positionIds.indexOf("'") >= 0) positionIds = positionIds.replace("'", "");
        var ids = positionIds.split(',');
        for (var i = 0; i < ids.length; i++) {
            if (ids[i].length <= 1 || _isContainPosition(ids[i])) continue;
            var aPosition = GetPosition(ids[i]);
            if (!(aPosition && aPosition.push && aPosition.pop)) continue;
            if (_positionsArray == null) _positionsArray = new Array();
            _positionsArray.push(aPosition);

            //子对象
            if (ids[i].substr(4, 2) == "00") {
                var childs = GetPositions(ids[i]);
                for (var j = 0; j < childs.length; j++) {
                    if (_isContainPosition(childs[j][2])) continue;
                    _positionsArray.push(childs[j]);
                    if (ids[i].substr(4, 2) == "00") {
                        var childs2 = GetPositions(childs[j][2]);
                        for (var k = 0; k < childs2.length; k++) {
                            if (_isContainPosition(childs2[k][2])) continue;
                            _positionsArray.push(childs2[k]);
                        }
                    }
                }
            }

            if (aPosition[1].length <= 1 || _isContainPosition(aPosition[1])) continue;
            aPosition = GetPosition(aPosition[1]);
            if (!(aPosition && aPosition.push && aPosition.pop)) continue;
            _positionsArray.push(aPosition);

            if (aPosition[1].length <= 1 || _isContainPosition(aPosition[1])) continue;
            aPosition = GetPosition(aPosition[1]);
            if (!(aPosition && aPosition.push && aPosition.pop)) continue;
            _positionsArray.push(aPosition);
        }
    }
    //alert(JB.objToStr(_positionsArray));
    if (_positionsArray == null) _positionsArray = jobArray; //全局对象
    var _getPositions = function (id) {
        var positions = new Array();
        for (var i = 0; i < _positionsArray.length; i++) {
            if (_positionsArray[i][1] == id) {
                positions.push(_positionsArray[i]);
            }
        }
        return positions;
    }
    var _relateChanged = function (slA_value, slB, title) {
        var arr = _getPositions(slA_value);
        slB.length = 0;
        if (title) slB.options[0] = new Option(title, "");
        var selected = false;
        for (var i = 0; i < arr.length; i++) {
            slB.options[slB.length] = new Option(arr[i][0], arr[i][2]);
            if (option.value &&
                (arr[i][2] == option.value
                    || (option.value.length >= 4 && arr[i][2].substr(4, 2) == "00" && arr[i][2].substr(0, 4) == option.value.substr(0, 4))
                    || (option.value.length >= 2 && arr[i][2].substr(2, 4) == "0000" && arr[i][2].substr(0, 2) == option.value.substr(0, 2))
                 )
                ) {
                slB.options[slB.length - 1].selected = true;
                selected = true;
            }
        }
        if (!selected && slB.options[0]) slB.options[0].selected = true;
    }
    this.valueChanged = function () {
        var v = (sl3 && sl3.value != "") ? sl3.value : (sl2 && sl2.value != "") ? sl2.value : (sl1 && sl1.value) ? sl1.value : "";
        if (option.afterchange) option.afterchange(v);
    }
    this.cityChanged = function (e, vv) {
        if (sl3) { _relateChanged(vv || sl2.value, sl3, option.titlePosition); }
        _this.valueChanged();
    }
    this.proviceChanged = function (e, vv) {
        if (sl2) { _relateChanged(vv || sl1.value, sl2, option.titleCity); _this.cityChanged(); }
        else _this.valueChanged();
    }
    if (sl1) {
        _relateChanged("0", sl1, option.titleProv);
        _this.proviceChanged();
    } else if (sl2) {
        if (!option.value || option.value.length < 2 || option.value.substr(0, 2) == "00") { alert("区域初始信息错误"); return; }
        _this.proviceChanged(null, option.value.substr(0, 2) + "0000");
    } else if (sl3) {
        if (!option.value || option.value.length < 4 || option.value.substr(2, 2) == "00") { alert("区域初始信息错误"); return; }
        _this.cityChanged(null, option.value.substr(0, 4) + "00");
    }
    if (sl1) JB.attach(sl1, "change", _this.proviceChanged);
    if (sl2) JB.attach(sl2, "change", _this.cityChanged);
    if (sl3) JB.attach(sl3, "change", _this.valueChanged);
}





